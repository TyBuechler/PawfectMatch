@page "/"

@using Microsoft.AspNetCore.Components.Authorization
@inject AuthenticationStateProvider AuthenticationStateProvider

<h3>Welcome to the Home Page!</h3>

@if (isAuthenticated)
{
    <p>You are successfully logged in.</p>
}
else
{
    <p>You are not logged in.</p>
}


@code {
    private bool isAuthenticated;

    protected override async Task OnInitializedAsync()
    {
        // Get the authentication state when the component is initialized
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;

        // Check if the user is authenticated and update the state
        isAuthenticated = user.Identity?.IsAuthenticated ?? false;
    }
}