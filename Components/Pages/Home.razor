@page "/"

@using Microsoft.AspNetCore.Components.Authorization
@inject AuthenticationStateProvider AuthenticationStateProvider

<div class="home-container">
    <h3>Welcome to the Home Page!</h3>

    @if (isAuthenticated)
    {
        <p class="welcome-message">You are successfully logged in.</p>
    }
    else
    {
        <p class="login-prompt">Please log in to access more features.</p>
    }
</div>

@code {
    private bool isAuthenticated;

    protected override async Task OnInitializedAsync()
    {
        // Get the authentication state when the component is initialized
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;

        // Check if the user is authenticated and update the state
        isAuthenticated = user.Identity?.IsAuthenticated ?? false;
    }
}