@layout LoginLayout
@using PawfectMatch.Components.Layout
@page "/signup"

<h3>Sign Up</h3>

@if (!string.IsNullOrEmpty(SignUpMessage))
{
    <div>@SignUpMessage</div>
}

<form>
    <!-- Input for username -->
    <label for="new-username">Username:</label>
    <input type="text" id="new-username" @bind="NewUsername" />

    <!-- Input for password -->
    <label for="new-password">Password:</label>
    <input type="password" id="new-password" @bind="NewPassword" />

    <!-- Sign up button -->
    <button @onclick="SignUpUser">Sign Up</button>
</form>

<p>
    <!-- Link to login page -->
    Already have an account? <a href="/">Login here</a>.
</p>

@code {
    private string NewUsername = string.Empty;
    private string NewPassword = string.Empty;
    private string SignUpMessage = string.Empty;

    // Simulated user storage (shared with Login page)
    private Dictionary<string, string> Users = new Dictionary<string, string>();

    // Sign-up method
    private void SignUpUser()
    {
        // Check if the username is already taken
        if (Users.ContainsKey(NewUsername))
        {
            SignUpMessage = "Username already exists.";
        }
        else
        {
            // Add the new user
            Users[NewUsername] = NewPassword;
            SignUpMessage = "Sign-up successful! You can now log in.";
        }
    }
}
